<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Grid Test - Inline</title>
    <style>
        body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }
        #container { width: 100%; height: 600px; border: 1px solid #ccc; position: relative; }
        .controls { margin-bottom: 20px; }
        button { margin-right: 10px; padding: 8px 16px; }
    </style>
</head>
<body>
    <div class="controls">
        <button onclick="testGrid()">Test Grid</button>
    </div>
    <div id="container"></div>
    <div id="output"></div>

    <script>
        // Minimal test of grid canvas positioning
        function testGrid() {
            const container = document.getElementById('container');
            const output = document.getElementById('output');
            
            // Create grid canvas
            const gridCanvas = document.createElement('canvas');
            Object.assign(gridCanvas.style, {
                position: 'absolute',
                top: '0',
                left: '0',
                width: '100%',
                height: '100%',
                pointerEvents: 'none',
                zIndex: '0',
                border: '2px solid red' // For debugging
            });
            container.appendChild(gridCanvas);
            
            // Size to viewport
            gridCanvas.width = container.clientWidth;
            gridCanvas.height = container.clientHeight;
            
            const ctx = gridCanvas.getContext('2d');
            ctx.strokeStyle = 'rgba(100, 100, 100, 0.5)';
            ctx.lineWidth = 1;
            
            const gridSize = 80;
            const width = gridCanvas.width;
            const height = gridCanvas.height;
            
            ctx.beginPath();
            for (let x = 0; x <= width; x += gridSize) {
                ctx.moveTo(x + 0.5, 0);
                ctx.lineTo(x + 0.5, height);
            }
            for (let y = 0; y <= height; y += gridSize) {
                ctx.moveTo(0, y + 0.5);
                ctx.lineTo(width, y + 0.5);
            }
            ctx.stroke();
            
            output.innerHTML = `Grid canvas created: ${width}x${height}px with ${Math.ceil(width/gridSize)} vertical and ${Math.ceil(height/gridSize)} horizontal lines`;
        }
    </script>
</body>
</html>
